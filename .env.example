# =============================================================================
# Gamebot Environment Configuration Template
# =============================================================================
# Copy this file to .env and customize for your environment
# Different contexts (local dev, docker, prod) use different connection strings

# =============================================================================
# Core Database Configuration
# =============================================================================
# For local development (direct connection to host-exposed port)
DB_HOST=localhost
DB_NAME=survivor_dw_dev
DB_USER=survivor_dev
DB_PASSWORD=survivor_dev_password
DB_PORT=5433
DB_HOST_PORT=5433

# For containerized environments (Docker internal networking)
# These are automatically overridden in docker-compose.yaml for Airflow services
DOCKER_DB_HOST=warehouse-db
DOCKER_DB_PORT=5432

# =============================================================================
# Application Configuration
# =============================================================================
SURVIVOR_ENV=dev
GAMEBOT_TARGET_LAYER=gold
GAMEBOT_DAG_SCHEDULE=0 4 * * 1

# =============================================================================
# Airflow Configuration
# =============================================================================
AIRFLOW_PORT=8080
AIRFLOW__API_RATELIMIT__STORAGE=redis://redis:6379/1
AIRFLOW__API_RATELIMIT__ENABLED=True

# Docker user permissions (automatically set by Makefile)
# These ensure proper file permissions for mounted volumes between host and container
# The Makefile automatically detects your user/group ID with $(id -u) and $(id -g)
# AIRFLOW_UID=1000  # Automatically detected
# AIRFLOW_GID=1000  # Automatically detected

# =============================================================================
# External Integrations
# =============================================================================
GITHUB_TOKEN=

# =============================================================================
# Connection Strings
# =============================================================================
# Local development connection (for direct dbt/python execution)
LOCAL_POSTGRES_CONN=postgresql+psycopg2://${DB_USER}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_NAME}

# Airflow connection (managed by docker-compose environment override)
AIRFLOW_CONN_SURVIVOR_POSTGRES=postgresql+psycopg2://${DB_USER}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_NAME}
